
$(function(){$('#diaperModal button').click(function(){trackEvent($('#diaperModal'),'Diaper',$(this).data('value'));return false;});});$(function(){var feedType;$('#feedModal').on('hidden.bs.modal',function(){$('#feedModal .feed-types button').removeClass('btn-primary').removeClass('btn-info').addClass('btn-info');$('#feedModal .bottle-options').addClass('hide');$('#feedModal .time-options').addClass('hide');});$('#feedModal .feed-types button').click(function(){$('#feedModal .feed-types button').removeClass('btn-primary').removeClass('btn-info').addClass('btn-info');$(this).removeClass('btn-info').addClass('btn-primary');if($(this).data('value')=='left'||$(this).data('value')=='right'){$('#feedModal .time-options').removeClass('hide');$('#feedModal .bottle-options').addClass('hide');}else{$('#feedModal .bottle-options').removeClass('hide');$('#feedModal .time-options').addClass('hide');}
feedType=$(this).data('value');return false;});$('#feedModal .time-options button, #feedModal .bottle-options button').click(function(){trackEvent($('#feedModal'),'Feed',feedType,$(this).data('value'));return false;});});function hideAddressBar()
{if(!window.location.hash)
{if(document.height<window.outerHeight)
{document.body.style.height=(window.outerHeight+50)+'px';}
setTimeout(function(){window.scrollTo(0,1);},50);}}
window.addEventListener("load",function(){if(!window.pageYOffset){hideAddressBar();}});window.addEventListener("orientationchange",hideAddressBar);function showNotification(name,error){error=error||false;var selector=error?'#error-notification':'#success-notification';$(selector+' .event-type').html(name);$(selector).stop().css('top','-500px').show().animate({top:'0px'}).delay(8000).animate({top:'-500px'});}
function trackEvent(activeModal,type,subtype,value)
{var spinner=$('<i>').addClass('icon-spinner').addClass('icon-spin').addClass('icon-2x');activeModal.find('.modal-body').append(spinner);$.post('track/new',{type:type,subtype:subtype,value:value},function(response){spinner.remove();if(response.success&&response.success==true){showNotification(type);activeModal.modal('hide');}else{showNotification(type,true);}});}